<!--
 * @Author: Jandan
 * @Date: 2021-02-17 02:21:11
 * @LastEditTime: 2021-02-17 03:35:10
 * @Description:
-->
{extend name="common/basic" /}{block name="title"}用户列表{/block}{block name="content"}
<div class="layui-fluid">
  <div class="layui-card">
    <div class="layui-form layui-card-header layuiadmin-card-header-auto">
      <div class="layui-form-item">
        <div class="layui-inline">
          <label class="layui-form-label">ID</label>
          <div class="layui-input-block">
            <input type="text" name="id" placeholder="请输入" autocomplete="off" class="layui-input" />
          </div>
        </div>
        <div class="layui-inline">
          <label class="layui-form-label">用户名</label>
          <div class="layui-input-block">
            <input type="text" name="username" placeholder="请输入" autocomplete="off" class="layui-input" />
          </div>
        </div>
        <div class="layui-inline">
          <label class="layui-form-label">邮箱</label>
          <div class="layui-input-block">
            <input type="text" name="email" placeholder="请输入" autocomplete="off" class="layui-input" />
          </div>
        </div>
        <div class="layui-inline">
          <label class="layui-form-label">性别</label>
          <div class="layui-input-block">
            <select name="sex">
              <option value="0">不限</option>
              <option value="1">男</option>
              <option value="2">女</option>
            </select>
          </div>
        </div>
        <div class="layui-inline">
          <button class="layui-btn layuiadmin-btn-useradmin" lay-submit lay-filter="LAY-user-front-search">
            <i class="layui-icon layui-icon-search layuiadmin-button-btn"></i>
          </button>
        </div>
      </div>
    </div>

    <div class="layui-card-body">
      <div style="padding-bottom: 10px">
        <button class="layui-btn layuiadmin-btn-useradmin" data-type="batchdel">删除</button>
        <button class="layui-btn layuiadmin-btn-useradmin" data-type="add">添加</button>
      </div>

      <table id="LAY-user-manage" lay-filter="LAY-user-manage"></table>
      <script type="text/html" id="imgTpl">
        <img style="display: inline-block; width: 50%; height: 100%;" src="{{ d.avatar }}" />
      </script>
      <script type="text/html" id="table-useradmin-webuser">
        <a class="layui-btn layui-btn-normal layui-btn-xs" lay-event="edit"
          ><i class="layui-icon layui-icon-edit"></i>编辑</a
        >
        <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del"
          ><i class="layui-icon layui-icon-delete"></i>删除</a
        >
      </script>
    </div>
  </div>
</div>
{/block} {block name="footer_js"}
<script>
  layui
    .config({
      base: '__LAYUIADMIN__/', //静态资源所在路径
      version: +new Date(), //实时更新缓存,开发环境使用
    })
    .extend({
      index: 'lib/index', //主入口模块
    })
    .use(['index', 'useradmin', 'table'], function () {
      var $ = layui.$,
        form = layui.form,
        table = layui.table

      //监听搜索
      form.on('submit(LAY-user-front-search)', function (data) {
        var field = data.field

        //执行重载
        table.reload('LAY-user-manage', {
          where: field,
        })
      })
    })
</script>
{/block}
